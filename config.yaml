# Weather Alert Bot Configuration
# Configure locations, alert thresholds, and notification settings

# Locations to monitor
# Each location must have a name and either a city or coordinates (lat/lon)
locations:
  - name: "Quinta do Amanhã"
    city: "Coutada, Portugal"
    # Alternative: use coordinates instead of city name
    # lat: 38.7223
    # lon: -9.1393
  
# Alert configurations
# Each alert type can be enabled/disabled and configured with thresholds
alerts:
  # Wind speed alerts
  wind:
    enabled: true
    threshold_kmh: 50  # Alert if wind speed exceeds this
    check_days_ahead: 3  # Check forecast for tomorrow
  
  # Storm alerts (combination of wind and precipitation)
  storm:
    enabled: true
    wind_gust_threshold_kmh: 70  # Alert if wind gusts exceed this
    precipitation_threshold_mm: 20  # Alert if precipitation exceeds this
    check_days_ahead: 3
  
  # Temperature extreme alerts
  temperature:
    enabled: true
    min_temp_c: 0  # Alert if temperature drops below this
    max_temp_c: 35  # Alert if temperature exceeds this
    check_days_ahead: 3
  
  # Heavy precipitation alerts
  precipitation:
    enabled: true
    threshold_mm: 30  # Alert if precipitation exceeds this
    check_days_ahead: 3
  
  # Weather condition alerts (rain, snow, thunderstorm, etc.)
  weather_conditions:
    enabled: false
    alert_on:  # Alert on these weather conditions
      - "Thunderstorm"
      - "Snow"
      - "Heavy rain"
    check_days_ahead: 3

# Telegram bot configuration
telegram:
  # Bot token from @BotFather (loaded from environment variable)
  bot_token: "${TELEGRAM_BOT_TOKEN}"
  
  # List of chat IDs to send alerts to
  # Get your chat ID by messaging @userinfobot on Telegram
  chat_ids:
    - "${TELEGRAM_CHAT_ID}"
    # Add more chat IDs for multiple recipients:
    # - "123456789"
    # - "987654321"
  
  # Optional: Format settings for messages
  message_format:
    use_markdown: true
    include_emoji: true

# Schedule configuration (optional)
# If not specified, use --check-now flag or set up external cron job
schedule:
  check_time: "08:00"  # Time to check daily (24-hour format)
  timezone: "Europe/Lisbon"  # Timezone for check_time

# API configuration (optional)
# API keys can be set here or via environment variables (recommended)
# api_keys:
#   openweathermap: "your_api_key_here"

# Claude AI commentary (optional)
# Generates witty weather comments using Claude Haiku 4.5
claude:
  enabled: true  # set to true to enable witty weather comments
  prompt: |
    You are a witty weather commentator. Based on the weather forecast data below, 
    write ONE short, clever comment (max 20 words). Consider trends, context (location, 
    day of week, weekend), and be creative or funny. Just the comment, no explanation.
    
    Weather data: {weather_summary}

    This is the weather alert bot for me and my friends at quinta do amanhã.

    We need to know if its too windy in case we should take down the awning of the caravan for example.

    You can use ascii emojis (in pre code block) to make ascii render properly

    Example: 	(˵ ͡° ͜ʖ ͡°˵)

    You need to be helpful and try to say useful things while still being funny and witty in the douglas adams style (dont mention this in the comment).
    
    Poems are nice too
# Logging configuration (optional)
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  file: "weather_alert.log"  # Log file path (optional)

